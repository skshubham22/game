<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Room - {{ room_code }}</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'game/style.css' %}">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Room: <span id="display-room-code">{{ room_code }}</span>
                <button class="btn-small" onclick="copyCode()">Copy</button>
            </h1>
            <div id="status">Waiting for opponent...</div>
            <div id="connection-status" style="font-size: 0.8rem; color: #fab1a0; margin-top: 5px;">Connecting...</div>
        </div>

        <div class="players-list" id="players-list">
            <!-- Players will be listed here -->
        </div>

        <div id="game-board" class="board {{ game_type|lower }}">
            <!-- Board cells will be generated by JS -->
        </div>

        <div class="controls">
            <button onclick="window.location.href='/'" class="btn btn-secondary">Leave Room</button>
        </div>
    </div>

    {{ room_code|json_script:"room-code" }}
    {{ game_type|json_script:"game-type" }}
    <script src="{% static 'game/game.js' %}"></script>
    <script>
        function copyCode() {
            const code = document.getElementById('display-room-code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                alert('Room code copied: ' + code);
            });
        }
    </script>
</body>

</html>